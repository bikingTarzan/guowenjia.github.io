---
title: 2018-06-01上线反思
date: 2018-06-01 09:27:40
tags:
    - git
    - supervisor
---
## 反思

儿童节快乐！昨天慌慌张张写的脚本上线了，出了点问题。还没查到原因。但是配置的过程中走了不少弯路。这里记录一下，再上线脚本的时候要好好思考之后再弄。

1.上线之前我需要先把脚本跑起来，然后老大合并代码之后，我拉取git上最新的代码。

昨天的一个很大的问题，是我只顾跑脚本，没有合代码，然后脚本就异常了！！！因为之前有这个脚本，所以我找了好久都没找到问题。 下次要列出清单。一步一步做，防止丢三落四。

## 再次需要重申的知识点:

    supervisor 里面的部署，路径。一定要实际去跑一下看看，看是否能够运行起来，运行的是否正确。修改配置之后，一定要记得update然后在restart.

    在代码出现问题的时候，git上面可以找一下之前的历史，然后git reset --hard 版本号 到之前的历史版本, 就可以了。

    git reflog 可以查看当前分支之前的所有操作。

    git log --pretty=oneline file 可以查看一个文件的所有历史提交记录.

    linux 里面的grep. 如果需要查找当前的下面5行，grep "need_find_thing" -A 5 filename
    如果需要查找当前的上面5行，grep "need_find_thing" -B 5 filename
    如果需要查找当前的上面和下面各5行，grep "need_find_thing" -C 5 filename

    grep "test" . -r -n  在多级目录中对文本进行递归操作

    echo "hello world" | grep -i "HELLO" # 忽略匹配样式中的字符大小写

